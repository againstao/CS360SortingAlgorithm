<!DOCTYPE html>
<html>
<!--Comments Common tags
    h1 - heading 1
    h2 -heading 2
    etc.
    href - hyperlink reference
    script - inline/external javastript
    img - image
    p - paragraph
    br - break
    button - a button
    li - list
    ul - unordered list
    ol - ordered list
    Text Tags
    strong - bold text
    em - italics
    -->

<!--this is essentially all the background stuff the user doesnâ€™t need to see-->

<head>
    <title>SMS: Sorting Made Simple</title>

    <!--links pulls in css page(s)-->
    <link rel="stylesheet" type="text/css" href="/css/navmenu.css">
    <link rel="stylesheet" type="text/css" href="/css/body.css">
    <link rel="stylesheet" type="text/css" href="../css/sortpage/sortsection.css">
    <link rel="stylesheet" type="text/css" href="../css/sortpage/introsection.css">
    <link rel="stylesheet" type="text/css" href="../css/sortpage/pullupbar.css">


    <link rel="stylesheet" type="text/css" href="../sortingjs/style.css">
    <!-- <script src="../sortingjs/sortdisplay.js" type="module"></script> -->
    <!-- <script src="../sortingjs/sorts.js" type="module"></script> -->


    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!--meta name = "viewport" is the default inital scale of the website-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <script>
        // from https://stackoverflow.com/questions/22607150/getting-the-url-parameters-inside-the-html-page
        // This function will parse parameters out of the url (like the example.com/dummy.html?a=1&c=b things)
        function GetURLParameter(sParam) {
            var sPageURL = window.location.search.substring(1);
            var sURLVariables = sPageURL.split('&');
            for (var i = 0; i < sURLVariables.length; i++) {
                var sParameterName = sURLVariables[i].split('=');
                if (sParameterName[0] == sParam) {
                    return sParameterName[1];
                }
            }
        }
    </script>
</head>

<!--body is what the user will see and interact with-->

<body>

    <header class="navmenu">

        <nav class ="mobilenav">
            
            <div class = "divhamburgernav">
                <img class = "hamburgerimage " id = "hamburgerimageclosed" src = "../Images/HomepageImages/Nav Bar/Hamburger Menu.png" height="20">
                <img class = "hamburgerimage hidden" id = "hamburgerimageopen" src = "../Images/HomepageImages/Nav Bar/HamburgerOpenButton.png" height="20">
            </div>

            <div class = "divlogo">
                <img class = "logo" src = https://i.ytimg.com/vi/EyOzwjfgPVA/maxresdefault.jpg height="30" width="30">
            </div>
        </nav>
            
        <nav class = "desktopnav">
            <div><a href="../index.html">Home</a></div>
            <div><a href="./sortpage.html?sort=selection"> Selection</a></div>
            <div><a href="./sortpage.html?sort=insertion">Insertion</a></div>
            <div><a href="./sortpage.html?sort=merge">Merge</a></div>
            <div><a href="./sortpage.html?sort=heap">Heap</a></div>
            <div><a href="./sortpage.html?sort=bubble">Bubble</a></div>
            <div><a href="./sortpage.html?sort=quick">Quick</a></div>
        </nav>
        
    </header>

    <section class = "hamburgerpopoutsection hidden" id = "hamburgerpopoutsection">
        <div class = "hamburgerpopoutmenu">
            <button class = "hamburgerpopoutmenuitems firsthamburgerpopoutmenuitem" id = "hamburgeritemhome" type="button">Home</button>
            <button class = "hamburgerpopoutmenuitems" id = "hamburgeritemselection" type="button">Selection</button>
            <button class = "hamburgerpopoutmenuitems" id = "hamburgeriteminsertion" type="button">Insertion</button>
            <button class = "hamburgerpopoutmenuitems" id = "hamburgeritemmerge" type="button">Merge</button>
            <button class = "hamburgerpopoutmenuitems" id = "hamburgeritemheap" type="button">Heap</button>
            <button class = "hamburgerpopoutmenuitems" id = "hamburgeritembubble" type="button">Bubble</button>
            <button class = "hamburgerpopoutmenuitems" id = "hamburgeritemquick" type="button">Quick</button>
        </div>   

        <!-- js for going to the links inside the hamburger menu -->
        <script src="../generaljs/navmenu/mobileNav.js"></script>

    </section>
    
    <!--title of the sorting being played along with the buttons that stop, rewind, pause and resume-->
    <section class="introsection">
        <div class="sortingname" id="defaultsort">
            <h1>Default Sort</h1>
            <script>
                let sortName = document.getElementById('defaultsort');
                sortName.innerHTML = GetURLParameter('sort')
                switch (sortName.innerHTML) {
                    case "selection":
                        sortName.innerHTML = "Selection Sort";
                        break;
                    case "insertion":
                        sortName.innerHTML = "Insertion Sort";
                        break;
                    case "merge":
                        sortName.innerHTML = "Merge Sort";
                        break;
                    case "heap":
                        sortName.innerHTML = "Heap Sort";
                        break;
                    case "bubble":
                        sortName.innerHTML = "Bubble Sort";
                        break;
                    case "quick":
                        sortName.innerHTML = "QuickSort";
                        break;
                }

            </script>
        </div>

        <div class="playbar">
            <button class="playoptions" id="play_restart" type="button">&lt;&lt;</button>
            <button class="playoptions" id="play_back" type="button">&lt;</button>
            <button class="playoptions" id="play_play" type="button">&#9658</button>
            <button class="playoptions" id="play_pause" type="button">&#10074&#10074</button>
            <button class="playoptions" id="play_next" type="button">&gt;</button>
        </div>
    </section>

    <!--this section is the section that will contain the actual animation portion of the website-->
    <section class="sortsection">
        <div class="sortanimation" id="animate"></div>
    </section>

    <!-- we need a pullup down here -->

    <section class="pullupbar" id="pullupbar">
        <!--GOTTA GET THOSE GAINS BROOOOOO!!!!-->

        <div class="pulloutbutton">
            <img src="../Images/SortpageImages/Slide Up Button.svg" class="pulloutbuttonimg" id="pulloutbuttonimg">
            <img src="../Images/SortpageImages/Slide Up Button.svg" class="pushinbuttonimg" id="pushinbuttonimg">
        </div>

        <div class="pullupbartitlesection">
            <div class="pullupbarexplanationheader"><strong>Explanation</strong></div>
            <div class="pullupbarjavaheader"><strong>Java Code</strong></div>
        </div>

        <div class="pullupbarsection" id="pullupbarsection">
            <!--Here is the sections that will contain all of the sorting explaination-->

            <div class="explanationsection" id="explanationsection">
                
                <div class="explainPara" id="selectionParagraph">
                    <!--This is for the Selection Sort-->
                    <ul class="ParOverflow">
                    <ul class="explainSelection">
                        <li><u>Step 1:</u> Declare and fill an array</li><br>
                        <li><u>Step 2:</u> Split array into two subarrays</li><br>
                        <li><u>Step 3:</u> recursively sort both subarrays using comparisons</li><br>
                        <li><u>Step 4:</u> Get the smaller elements from the subarrays</li><br>
                        <li><u>Step 5:</u> Copy remainder from both arrays if there are any</li><br>
                        <li><u>Step 6:</u> Copy the results back into the original array, producing a sorted array</li>
                        <br>
                    </ul>
                    </ul>
                </div>
                <!--This is for the Insertion Sort-->
                <div class="explainPara hidden" id="insertionParagraph">
                    <ul class="ParOverflow">
                    <ul class="explainInsertion">
                        <li><u>Step 1:</u> Declare and fill an array</li><br>
                        <li><u>Step 2:</u> An element is selected and becomes the pivot element</li><br>
                        <li><u>Step 4:</u> All elements smaller than the pivot are moved forward and the larger elements
                            are moved backwards</li><br>
                        <li><u>Step 4:</u> Recursively go through steps 2 and 3 until all subarrays are sorted</li><br>
                        <li><u>Step 5:</u> Merge all subarrays into one array to get one fully sorted array</li><br>
                    </ul>
                    </ul>
                </div>
                <!--This is for the Merge Sort-->
                <div class="explainPara hidden" id="mergeParagraph">
                    <ul class="ParOverflow">
                    <ul class="explainMerge">
                        <li><u>Step 1:</u> Declare and fill an array</li><br>
                        <li><u>Step 2:</u> Split array into two subarrays</li><br>
                        <li><u>Step 3:</u> Recursively sort both subarrays using comparisons</li><br>
                        <li><u>Step 4:</u> Get the smaller elements from the subarrays</li><br>
                        <li><u>Step 5:</u> Copy remainder from both arrays if there are any</li><br>
                        <li><u>Step 6:</u> Copy the results back into the original array, producing a sorted array</li>
                        <br>
                    </ul>
                    </ul>
                </div>
                <!--This is for the Heap Sort-->
                <div class="explainPara hidden" id="heapParagraph">
                    <ul class="ParOverflow">
                    <ul class="explainHeap">
                        <li><u>Step 1:</u> Declare and fill array with elements</li><br>
                        <li><u>Step 2:</u> Pull out largest element in unsorted section</li><br>
                        <li><u>Step 3:</u> Compare pulled element to the sorted section and place it at the end</li><br>
                        <li><u>Step 4:</u> Place each unordered element into sorted list to create a new ordered list
                        </li><br>
                    </ul>
                    </ul>
                </div>
                <!--This is for the Bubble Sort-->
                <div class="explainPara hidden" id="bubbleParagraph">
                    <ul class="ParOverflow">    
                    <ul class="explainBubble">
                        <li><u>Step 1:</u> Declare and fill the array</li><br>
                        <li><u>Step 2:</u> Within the for loop, compare the first two elements</li><br>
                        <li><u>Step 3:</u> Swap the elements if they are out of order</li><br>
                        <li><u>Step 4:</u> Repeat steps 2 and 3 through the entire array until the array is sorted fully
                        </li><br>
                    </ul>
                    </ul>
                </div>
                <!--This is for the Quick Sort-->
                <div class="explainPara hidden" id="quickParagraph">
                    <ul class="ParOverflow">
                    <ul class="explainQuick">
                        <li><u>Step 1:</u> Declare and fill an array</li><br>
                        <li><u>Step 2:</u> An element is selected and becomes the pivot element</li><br>
                        <li><u>Step 3:</u> All elements smaller than the pivot are moved forward and the larger elements
                            are moved backwards</li><br>
                        <li><u>Step 4:</u> Recursively go through steps 2 and 3 until all subarrays are sorted</li><br>
                        <li><u>Step 5:</u> Merge all subarrays into one array to get one fully sorted array</li><br>
                    </ul>
                    </ul>
                </div>
               
            </div>

        

            <script src = "/generaljs/explainPara.js"></script>

                <div class="javasection" id="javasection">

                </div>
            


    </section>

    <!--The JS for making the pullout bar expand and contract-->
    <script src = "/generaljs/pullOutBar.JS"></script>
    

    <!-- DOES THE INITIALIZATION & ATTACHMENT OF THE JS SORTER -->
    <script type="module">
        console.log('module load test msg :D');
        import { AnimationGenerator } from "../sortingjs/AnimationGenerator.js";
        import { generateList, stringToList } from "../generaljs/listutils.js";
        import { ListAndSortMethod } from "../generaljs/inputBox.js";
        
        //  GET PARAMETERS
        // sort; gives the type of sort
        let sortParam = GetURLParameter('sort');
        // list; gives the list to sort. Will override listSizeParam and listGenParam below
        let listParam = stringToList(GetURLParameter('list'));
        // generated list's size; if listParam is not specified, this will define how big of a list to generate
        let listSizeParam = Number(GetURLParameter('size'));
        if(isNaN(listSizeParam) || !Number.isFinite(listSizeParam) || listSizeParam <= 0)
            listSizeParam = 10; // default is 10
        // generated list's type; if listParam is not specified, this will define what contents the list contains
        let listTypeParam = GetURLParameter('type') || 'random'; // default is random

        // generate list if needed (if listParam exists, use it; else, generate a list)
        let listToUse;
        try {
            listToUse = listParam || generateList(listSizeParam, listTypeParam);
            console.log(listToUse);
        } catch (error) {
            document.getElementById('animate').innerHTML = "Oops! Something's wrong with the array you made!"
            throw error;
        }

        // SHOW STUFF!
        if (!sortParam) { // sort doesn't exist
            document.getElementById('animate').innerHTML = "Oops! You forgot to specify a sorting type!";
        } else { // sort was specified
            let generator = new AnimationGenerator(sortParam, listToUse,//[10,1,7,4,5,4,3],
            ["code", "more code"], 'animate', 'javasection');
            //time to hook up the sort's functions!
            // let tmp = function () { console.log('tadaa onclick works'); }
            // document.getElementById('play_restart').onclick = tmp;
            // generator.start();

            //IMPORTANT FUNCTION TO GENERATE A RANDOM ARRAY from of size n with the numbers being between one and j
            //to use this simply put it where we currently have the array at now in the else statement above 
            //Array.from({length: n}, () => Math.floor(Math.random() * j)+1)
            generator.setTiming(650);
            document.getElementById('play_restart').onclick = function() { generator.restart() };
            document.getElementById('play_back').onclick = function() { generator.prevStep() };
            document.getElementById('play_play').onclick = function() { generator.start() };
            document.getElementById('play_pause').onclick = function() { generator.pause() };
            document.getElementById('play_next').onclick = function() { generator.nextStep() };
        }
    </script>
    <!-- old one here -->
    <!-- <script type="module">
        console.log('module load test msg :D');
        import { SortFactory } from "../sortingjs/sorts.js";

        // let animDiv = document.getElementById('animate');
        // console.log(animDiv);

        let sortParam = GetURLParameter('sort');
        let sd = new SortFactory();
        let sort = sd.createSort(sortParam, [1, 2, 3, 4, 5], 'animate', 'javasection');
        if (!sort) { // sort doesn't exist
            document.getElementById('animate').innerHTML = "Oops! You forgot to specify a sorting type!";
        } else { // sort was successfully created
            // time to hook up the sort's functions!
            let tmp = function () { console.log('tadaa onclick works'); }
            document.getElementById('play_restart').onclick = tmp;
        }
    </script> -->

    <!-- TESTING JAVA CODE AREA STUFF -->
    <!-- <style>
        .jc-line {
            border: 1px solid darkred;
            width: 100%; /* span the whole way across */
            font-family: 'Courier New', Courier, monospace;
            background-color: #111;
            color: white;
        }
        .jc-highlight {
            background-color: darkgreen;
            color: white;
        }
    </style> -->
    <!-- <script>
        const code = [
            "public void foo() {",
            "    int i = 0;",
            "    int j = (i + 3);",
            "    System.out.println(\"Answer is: \" + i);",
            "}"
        ];
        let sect = document.getElementById('javasection');
        for (let i = 0; i < code.length; i++) {
            let codeline = code[i];
            codeline = codeline.replace(" ","&nbsp;"); // fix up the trimming issue
            let lineElem = document.createElement('div');
            lineElem.classList.add('jc-line');
            if(i == 1) { lineElem.classList.add('jc-highlight'); }
            // asdf.innerHTML = "Hello World " + i ;
            lineElem.innerHTML = codeline;
            sect.appendChild(lineElem);
        }
    </script> -->
</body>



</html>